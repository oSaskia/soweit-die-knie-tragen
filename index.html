<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Leaflet Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #map {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet-geosearch/dist/geosearch.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-geosearch/dist/bundle.min.js"></script>
    
	<script>
	    var mymap = L.map('map-canvas').setView([50.95927, 6.90235], 16);

	    var openStreetMapLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		attribution: "Datenquelle: &copy; <a href='https://www.openstreetmap.org/copyright' target='_blank'>OpenStreetMap</a> contributors",
		maxZoom: 19
	    }).addTo(mymap);
	
	    var wmsLayer = L.tileLayer.wms("https://www.wms.nrw.de/geobasis/wms_nw_dop", {
		layers: 'nw_dop_rgb',
		format: 'image/png',
		transparent: true,
		version: '1.3.0',
		attribution: "Datenquelle: <a href='https://open.nrw/' target='_blank'>Geobasis NRW</a> (<a href='https://www.govdata.de/dl-de/zero-2-0' target='_blank'>DL-DE->Zero-2.0</a>)",
		maxZoom: 19
	    });
	
	    var marker = L.marker([50.95927, 6.90235]).addTo(mymap);
	    marker.bindPopup("<b>Schmierfinke</b>").closePopup();
	
	    var baseMaps = {
		"OpenStreetMap": openStreetMapLayer,
		"Luftbilder": wmsLayer
	    };
	
	    L.control.layers(baseMaps).addTo(mymap);
	
	    // Geosearch mit OpenStreetMap-Geocoder hinzufügen
	    const search = new GeoSearch.GeoSearchControl({
		provider: new GeoSearch.OpenStreetMapProvider(),
		autoComplete: true, // Automatische Vervollständigung aktivieren
		autoCompleteDelay: 250, // Verzögerung in Millisekunden
		showMarker: true, // Zeigt einen Marker für das Suchergebnis an
		showPopup: false, // Deaktiviert das Popup für den Marker
	    });
		    mymap.addControl(search);
    </script>
</body>
</html>
